import numpy as np
from cvxopt import solvers, matrix
#from cvxopt.base import matrix
'''
#Part 1a
A = np.array([[-1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [1, -1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 1, -1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 1, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, -1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, -1, 0, 0, -1, 1, 0, 0, 1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0], 
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, -1, 0], 
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 1, -1],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1]])

b = np.array([[-7669,],[-16680],[7593],[9358],[19929],[0],
              [0],[-15089],[-5136],[8080],[-5379],[4993]])

c = np.linalg.lstsq(A,b)[0]
#print c

#Part 1b
A2 = np.array([[-1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [1, -1, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 1, -1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 1, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 1, 0, 0, -1, 1, 0, 0, -1, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, -1, 0, 0, -1, 1, 0, 0, 1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0], 
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, -1, 0], 
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 1, -1],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1],
            [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],   
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
            [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]])

b2 = np.array([[-7669,],[-16680],[7593],[9358],[19929],[0],
              [0],[-15089],[-5136],[8080],[-5379],[4993],[5302],[13412],[3052],[4270],
              [1243],[2303]])

c2 = np.array(np.linalg.lstsq(A2,b2)[0])
'''
#Part 2
A = np.zeros((12,17))
A[0][0] = 1
A[1][0] = -1
A[1][1] = 1
A[2][1] = -1
A[2][2] = 1
A[3][2] = -1
A[0][3] = -1
A[4][3] = 1
A[1][4] = 1
A[5][4] = -1
A[2][5] = -1
A[6][5] = 1
A[3][6] = 1
A[7][6] = -1
A[4][7] = -1
A[5][7] = 1
A[5][8] = -1
A[6][8] = 1
A[6][9] = -1
A[7][9] = 1
A[4][10] = -1
A[8][10] = 1
A[5][11] = 1
A[9][11] = -1
A[6][12] = -1
A[10][12] = 1
A[7][13] = 1
A[11][13] = -1
A[8][14] = 1
A[9][14] = -1
A[9][15] = 1
A[10][15] = -1
A[10][16] = 1
A[11][16] = -1


            


'''
G = np.array([[1., -1., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
           [0., 1., -1., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
           [0., 0., 1., -1., 0., 0., 0., 0., 0., 0., 0., 0.],
           [-1., 0., 0., 0., 1., 0., 0., 0., 0., 0., 0., 0.],
           [0., 1., 0., 0., 0., -1., 0., 0., 0., 0., 0., 0.],
           [0., 0., -1., 0., 0., 0., 1., 0., 0., 0., 0., 0.],
           [0., 0., 0., 1., 0., 0., 0., -1., 0., 0., 0., 0.],
           [0., 0., 0., 0., -1., 1., 0., 0., 0., 0., 0., 0.],
           [0., 0., 0., 0., 0., -1., 1., 0., 0., 0., 0., 0.],
           [0., 0., 0., 0., 0., 0., -1., 1., 0., 0., 0., 0.],
           [0., 0., 0., 0., -1., 0., 0., 0., 1., 0., 0., 0.],
           [0., 0., 0., 0., 0., 1., 0., 0., 0., -1., 0., 0.],
           [0., 0., 0., 0., 0., 0., -1., 0., 0., 0., 1., 0.],
           [0., 0., 0., 0., 0., 0., 0., 1., 0., 0., 0., -1.],
           [0., 0., 0., 0., 0., 0., 0., 0., 1., -1., 0., 0.],
           [0., 0., 0., 0., 0., 0., 0., 0., 0., 1., -1., 0.],
           [0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 1., -1.]])


print A
print np.linalg.matrix_rank(A)
G = matrix(A)

h = matrix([-7669.,-16680.,7593.,9358.,19929.,0.,
              0.,-15089.,-5136.,8080.,-5379.,4993.])
h = matrix([18144.,-16680.,7593.,18820.,19929.,0.,
              0.,-15089.,-5136.,8080.,-5379.,4993.])
#h = matrix(b)
c = matrix([9972.0,2508.0,11431.0,2303.0,24144.0,26516.0,2073.0,20148.0,
            5302.0,13412.0,2084.0,9298.0,8406.0,3750.0,3052.0,4270.0,1243.0])

sol = solvers.lp(c,G,h)

print(sol['x'])
'''
